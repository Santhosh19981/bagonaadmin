<div class="admin-dashboard-sidebar">
  <!-- Mobile Overlay Backdrop -->
  <div *ngIf="isMobileView && isSidebarOpen" (click)="closeSidebar()"
    class="fixed inset-0 bg-black/60 backdrop-blur-sm z-40 transition-opacity duration-300"></div>

  <!-- SIDEBAR - Premium Dark Theme with Glassmorphism -->
  <!-- On mobile: only show if isSidebarOpen is true. On desktop: always show -->
  <aside *ngIf="!isMobileView || isSidebarOpen" id="sidebar"
    class="fixed top-0 left-0 h-screen w-64 bg-[#0f172a] shadow-[4px_0_24px_rgba(0,0,0,0.5)] z-50 flex flex-col border-r border-slate-800/50">

    <!-- Header/Brand Section - Compact on mobile -->
    <div
      class="px-4 sm:px-6 py-4 sm:py-10 flex flex-col items-center justify-center border-b border-white/5 bg-slate-900/40 flex-shrink-0">
      <div class="relative group cursor-pointer" data-aos="zoom-in">
        <!-- Multi-layered Glow Effect -->
        <div
          class="absolute -inset-2 bg-gradient-to-r from-yellow-500 to-orange-600 rounded-2xl blur-xl opacity-20 group-hover:opacity-60 transition-all duration-700">
        </div>
        <div
          class="absolute -inset-1 bg-gradient-to-r from-yellow-400 to-yellow-600 rounded-2xl blur opacity-30 group-hover:opacity-80 transition-all duration-500">
        </div>

        <!-- Logo Container - Responsive sizing -->
        <div
          class="relative w-14 h-14 sm:w-20 sm:h-20 lg:w-24 lg:h-24 bg-white p-1 rounded-2xl sm:rounded-3xl flex items-center justify-center shadow-2xl transition-all duration-500 group-hover:scale-110 group-hover:rotate-3 group-hover:ring-4 group-hover:ring-yellow-500/50 overflow-hidden border-2 sm:border-4 border-[#0f172a]">
          <img src="logoimage.png" class="w-full h-full object-contain rounded-xl sm:rounded-2xl">
        </div>
      </div>

      <div class="mt-3 sm:mt-6 text-center" data-aos="fade-up" data-aos-delay="100">
        <h1
          class="text-xl sm:text-3xl font-black tracking-[0.15em] sm:tracking-[0.2em] text-white bg-gradient-to-b from-white to-slate-400 bg-clip-text text-transparent transform group-hover:scale-110 transition-all duration-500">
          BHAGONA
        </h1>

        <div class="flex items-center justify-center gap-2 mt-1 sm:mt-2">
          <span class="h-px w-3 sm:w-4 bg-yellow-500/30"></span>
          <p
            class="text-[8px] sm:text-[9px] font-bold text-yellow-500 tracking-[0.3em] sm:tracking-[0.4em] uppercase opacity-90">
            Admin Panel
          </p>
          <span class="h-px w-3 sm:w-4 bg-yellow-500/30"></span>
        </div>
      </div>
    </div>

    <!-- Navigation Scroll Area - Takes remaining space and scrolls -->
    <div class="flex-1 overflow-y-auto py-4 sm:py-6 px-3 sm:px-4 custom-scrollbar min-h-0">
      <nav class="space-y-1.5">
        <div *ngFor="let item of menuItems; let i = index" class="relative group" data-aos="fade-right"
          [attr.data-aos-delay]="i * 40">

          <a (click)="gotoMenu(item.id)" [class.active-item]="menu === item.id"
            class="flex items-center gap-3 sm:gap-3.5 px-3 sm:px-4 py-2.5 sm:py-3 rounded-xl cursor-pointer transition-all duration-300 group
                    hover:bg-slate-800/50 hover:translate-x-1
                    {{ menu === item.id ? 'bg-gradient-to-r from-yellow-500/10 to-transparent border-l-4 border-yellow-500' : 'text-slate-400 hover:text-white' }}">

            <!-- Animated Icon Container -->
            <div class="flex items-center justify-center w-5 h-5 transition-all duration-300 flex-shrink-0
                        {{ menu === item.id ? 'text-yellow-500 scale-110' : 'group-hover:text-yellow-400' }}">
              <i class="bi" [ngClass]="{
                'bi-speedometer2': item.icon === 'dashboard',
                'bi-check-circle': item.icon === 'approval',
                'bi-calendar-event': item.icon === 'events',
                'bi-grid': item.icon === 'services',
                'bi-box-seam': item.icon === 'service-items',
                'bi-journal-text': item.icon === 'menu-items',
                'bi-bag-check': item.icon === 'orders',
                'bi-people': item.icon === 'users',
                'bi-mortarboard': item.icon === 'chefs',
                'bi-shop': item.icon === 'vendors',
                'bi-credit-card-2-back': item.icon === 'payments'
              }" class="text-base sm:text-lg"></i>
            </div>

            <span class="text-xs sm:text-sm font-semibold tracking-wide transition-colors duration-300">
              {{ item.label }}
            </span>

            <!-- Subtle Glow for Active Item -->
            <div *ngIf="menu === item.id" class="absolute inset-y-2 right-0 w-2 blur-md bg-yellow-500/30"></div>
          </a>
        </div>
      </nav>
    </div>

    <!-- Footer / User & Logout Section - Compact on mobile -->
    <div class="p-3 sm:p-4 bg-slate-900/50 border-t border-slate-800/50 flex-shrink-0">
      <!-- Logout -->
      <a (click)="logout()" class="flex items-center gap-2.5 sm:gap-3.5 px-3 sm:px-4 py-2 sm:py-3 rounded-xl cursor-pointer text-slate-400 hover:text-red-400 
                hover:bg-red-500/10 transition-all duration-300 mb-2 sm:mb-4 group">
        <div class="group-hover:rotate-12 transition-transform duration-300 flex-shrink-0">
          <i class="bi bi-box-arrow-right text-base sm:text-lg"></i>
        </div>
        <span class="text-xs sm:text-sm font-semibold">Logout</span>
      </a>

      <!-- User Profile Card - Compact on mobile -->
      <div
        class="flex items-center gap-2 sm:gap-3 p-2 sm:p-3 rounded-xl sm:rounded-2xl bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 shadow-inner"
        data-aos="fade-up">
        <div class="relative flex-shrink-0">
          <div
            class="w-8 h-8 sm:w-10 sm:h-10 rounded-full bg-gradient-to-tr from-yellow-400 to-orange-500 flex items-center justify-center text-white font-bold text-sm sm:text-lg shadow-lg">
            {{ userName.charAt(0).toUpperCase() }}
          </div>
          <div
            class="absolute bottom-0 right-0 w-2.5 h-2.5 sm:w-3 sm:h-3 bg-green-500 border-2 border-[#0f172a] rounded-full">
          </div>
        </div>
        <div class="flex-1 min-w-0">
          <p class="text-xs sm:text-sm font-bold text-white truncate">{{ userName }}</p>
          <p class="text-[9px] sm:text-[10px] font-medium uppercase tracking-wider text-slate-500">
            {{ userRole === 4 ? 'Admin' : userRole === 2 ? 'Chef' : userRole === 3 ? 'Vendor' : 'User' }}
          </p>
        </div>
      </div>
    </div>
  </aside>
</div>