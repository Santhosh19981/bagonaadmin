<div class="admin-dashboard-sidebar">
  <!-- Mobile Overlay Backdrop -->
  <div *ngIf="isMobileView && isSidebarOpen" (click)="closeSidebar()"
    class="fixed inset-0 bg-black/60 backdrop-blur-sm z-40 transition-opacity duration-300"></div>

  <!-- SIDEBAR - Premium Dark Theme with Glassmorphism -->
  <!-- On mobile: only show if isSidebarOpen is true. On desktop: always show -->
  <aside *ngIf="!isMobileView || isSidebarOpen" id="sidebar"
    class="fixed top-0 left-0 h-screen w-64 bg-[#0f172a] shadow-[4px_0_24px_rgba(0,0,0,0.5)] z-50 flex flex-col border-r border-slate-800/50">

    <!-- Header/Brand Section - Compact on mobile -->
    <div
      class="px-2 sm:px-4 py-2 sm:py-4 flex flex-col items-center justify-center border-b border-white/5 bg-slate-900/40 flex-shrink-0">
      <div class="relative group cursor-pointer inline-block">
        <!-- Multi-layered Glow Effect -->
        <div
          class="absolute -inset-2 bg-gradient-to-r from-yellow-500 to-orange-600 rounded-2xl blur-xl opacity-20 group-hover:opacity-60 transition-all duration-700">
        </div>
        <div
          class="absolute -inset-1 bg-gradient-to-r from-yellow-400 to-yellow-600 rounded-2xl blur opacity-30 group-hover:opacity-80 transition-all duration-500">
        </div>

        <!-- Logo Container - Responsive sizing -->
        <div
          class="relative w-12 h-12 sm:w-16 sm:h-16 lg:w-20 lg:h-20 bg-white p-1 rounded-2xl sm:rounded-3xl flex items-center justify-center shadow-2xl transition-all duration-500 group-hover:scale-110 group-hover:rotate-3 group-hover:ring-4 group-hover:ring-yellow-500/50 overflow-hidden border-2 sm:border-4 border-[#0f172a]">
          <img src="logoimage.png" class="w-full h-full object-contain rounded-xl sm:rounded-2xl">
        </div>
      </div>

      <div class="mt-2 text-center">
        <h1
          class="text-base sm:text-xl font-black tracking-[0.05em] text-white bg-gradient-to-b from-white to-slate-400 bg-clip-text text-transparent">
          BHAGONA
        </h1>

        <div class="flex items-center justify-center gap-1 mt-0.5">
          <p class="text-[7px] sm:text-[8px] font-bold text-yellow-500 tracking-[0.2em] uppercase opacity-90">
            Admin Panel
          </p>
        </div>
      </div>
    </div>

    <!-- Navigation Scroll Area - Takes remaining space and scrolls -->
    <div class="flex-1 overflow-y-auto py-2 px-3 custom-scrollbar min-h-0">
      <nav class="space-y-1">
        <div *ngFor="let item of menuItems; let i = index" class="relative group">
          <a (click)="gotoMenu(item.id)" [class.active-item]="menu === item.id"
            class="flex items-center gap-2.5 px-3 py-2 rounded-xl cursor-pointer transition-all duration-200 group
                    hover:bg-slate-800/50
                    {{ menu === item.id ? 'bg-gradient-to-r from-yellow-500/10 to-transparent border-l-4 border-yellow-500' : 'text-slate-400 hover:text-white' }}">
            <div class="flex items-center justify-center w-4 h-4 flex-shrink-0
                        {{ menu === item.id ? 'text-yellow-500' : 'group-hover:text-yellow-400' }}">
              <i class="bi" [ngClass]="{
                  'bi-speedometer2': item.icon === 'dashboard',
                  'bi-check-circle': item.icon === 'approval',
                  'bi-calendar-event': item.icon === 'events',
                  'bi-grid': item.icon === 'services',
                  'bi-box-seam': item.icon === 'service-items',
                  'bi-tags': item.icon === 'menu-categories',
                  'bi-journal-text': item.icon === 'menu-items',
                  'bi-bag-check': item.icon === 'orders',
                  'bi-people': item.icon === 'users',
                  'bi-mortarboard': item.icon === 'chefs',
                  'bi-shop': item.icon === 'vendors',
                  'bi-credit-card-2-back': item.icon === 'payments'
                }" class="text-sm"></i>
            </div>
            <span class="text-[11px] font-semibold tracking-wide">
              {{ item.label }}
            </span>
          </a>
        </div>
      </nav>
    </div>

    <!-- Footer / User & Logout Section - Compact on mobile -->
    <div class="p-3 sm:p-4 bg-slate-900/50 border-t border-slate-800/50 flex-shrink-0">
      <!-- Logout -->
      <a (click)="logout()" class="flex items-center gap-2.5 px-3 py-2 rounded-xl cursor-pointer text-slate-400 hover:text-red-400 
                hover:bg-red-500/10 transition-all duration-200 mb-2 group">
        <i class="bi bi-box-arrow-right text-sm"></i>
        <span class="text-[11px] font-semibold">Logout</span>
      </a>

      <!-- User Profile Card - Compact on mobile -->
      <div
        class="flex items-center gap-2 p-2 rounded-xl bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 shadow-inner">
        <div class="relative flex-shrink-0">
          <div
            class="w-8 h-8 rounded-full bg-gradient-to-tr from-yellow-400 to-orange-500 flex items-center justify-center text-white font-bold text-xs shadow-lg">
            {{ userName.charAt(0).toUpperCase() }}
          </div>
          <div class="absolute bottom-0 right-0 w-2 h-2 bg-green-500 border border-[#0f172a] rounded-full">
          </div>
        </div>
        <div class="flex-1 min-w-0">
          <p class="text-[11px] font-bold text-white truncate">{{ userName }}</p>
          <p class="text-[8px] font-medium uppercase tracking-wider text-slate-500">
            {{ userRole === 4 ? 'Admin' : userRole === 2 ? 'Chef' : userRole === 3 ? 'Vendor' : 'User' }}
          </p>
        </div>
      </div>
    </div>
  </aside>
</div>